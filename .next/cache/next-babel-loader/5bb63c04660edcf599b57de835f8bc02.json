{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport NETWORK from '../utls/network';\n\nconst Swift = props => {\n  const {\n    0: swiftId,\n    1: setSwiftId\n  } = useState(\"\");\n  const {\n    0: time,\n    1: setTime\n  } = useState(0);\n  const {\n    0: bankData,\n    1: setBankData\n  } = useState({});\n  const {\n    0: accountNo,\n    1: setaccountNo\n  } = useState(\"\");\n  const {\n    0: confAccountNo,\n    1: setconfAccountNo\n  } = useState(\"\");\n  const {\n    0: type,\n    1: settype\n  } = useState(\"password\");\n  const {\n    0: error,\n    1: setError\n  } = useState(\"\");\n  const {\n    0: accValid,\n    1: setaccValid\n  } = useState(false);\n\n  const doSearch = evt => {\n    let searchText = evt.target.value;\n    setSwiftId(evt.target.value.toUpperCase());\n\n    if (evt.target.value.length == 8 || evt.target.value.length == 11) {\n      if (time) clearTimeout(time);\n      setTime(() => {\n        setTimeout(() => {\n          checkSwift();\n        }, 300);\n      });\n    }\n  };\n\n  const checkSwift = () => {\n    NETWORK.post(`v1/banks/find`, JSON.stringify({\n      'swift_bic': swiftId\n    })).then(function (res) {\n      res !== undefined ? setBankData(res.data) : setBankData([]);\n    });\n  };\n\n  const validate = () => {\n    setError(\"\");\n    accountNo.length > 8 ? setError(\"\") : setError(\"Enter valid account number\");\n  };\n\n  const validateAcc = val => {\n    setconfAccountNo(val);\n\n    if (accountNo.length !== 0 && val.length === accountNo.length) {\n      if (val === accountNo) {\n        setaccValid(true);\n        settype(\"text\");\n        setError(\"\");\n      } else {\n        setaccValid(false);\n        setError(\"Account number not same\");\n      }\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"banking__form-set\"\n  }, __jsx(\"div\", {\n    className: \"form-control\"\n  }, __jsx(\"label\", null, \"SWIFT\"), __jsx(\"input\", {\n    type: \"text\",\n    className: \"caps\",\n    value: swiftId,\n    onChange: e => {\n      doSearch(e);\n    }\n  }), Object.keys(bankData).length !== 0 ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"bank-detail\"\n  }, __jsx(\"p\", null, bankData.bank_name, \" \", __jsx(\"br\", null), bankData.bank_address1, \" \", __jsx(\"br\", null), bankData.bank_address2, \" \", __jsx(\"br\", null), bankData.bank_city, \", \", bankData.bank_state_province, \" \", __jsx(\"br\", null), bankData.bank_postal_code))) : __jsx(React.Fragment, null)), __jsx(\"div\", {\n    className: \"form-control\"\n  })), __jsx(\"div\", {\n    className: \"banking__form-set\"\n  }, __jsx(\"div\", {\n    className: \"form-control\"\n  }, __jsx(\"label\", null, \"Account number\"), __jsx(\"input\", {\n    type: type,\n    value: accountNo,\n    onChange: e => {\n      setaccountNo(e.target.value);\n      setError(\"\");\n    },\n    onBlur: e => {\n      validate();\n    }\n  })), __jsx(\"div\", {\n    className: \"form-control\"\n  }, __jsx(\"label\", null, \"Confirm account number\"), __jsx(\"input\", {\n    type: \"text\",\n    value: confAccountNo,\n    onChange: e => {\n      validateAcc(e.target.value);\n    }\n  }))), error !== \"\" ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"banking__form-set\"\n  }, __jsx(\"div\", {\n    className: \"form-control\"\n  }, __jsx(\"p\", {\n    className: \"error\"\n  }, error)))) : __jsx(React.Fragment, null), accValid ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"banking__form-set\"\n  }, __jsx(\"div\", {\n    className: \"form-control\"\n  }, __jsx(\"p\", {\n    className: \"success\"\n  }, \"Account Number Valid\")))) : __jsx(React.Fragment, null));\n};\n\nexport default Swift;","map":{"version":3,"sources":["/Users/ecom-muthukumar.u/prr/jumpstart/components/banking/swift.js"],"names":["React","useState","NETWORK","Swift","props","swiftId","setSwiftId","time","setTime","bankData","setBankData","accountNo","setaccountNo","confAccountNo","setconfAccountNo","type","settype","error","setError","accValid","setaccValid","doSearch","evt","searchText","target","value","toUpperCase","length","clearTimeout","setTimeout","checkSwift","post","JSON","stringify","then","res","undefined","data","validate","validateAcc","val","e","Object","keys","bank_name","bank_address1","bank_address2","bank_city","bank_state_province","bank_postal_code"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport NETWORK from '../utls/network';\n\nconst Swift =(props)=>{\n    const [swiftId, setSwiftId] = useState(\"\");\n    const [time, setTime] = useState(0)\n    const [bankData, setBankData] = useState({})\n    const [accountNo, setaccountNo] = useState(\"\")\n    const [confAccountNo, setconfAccountNo] = useState(\"\")\n    const [type, settype] = useState(\"password\");\n    const [error, setError] = useState(\"\");\n    const [accValid, setaccValid] = useState(false);\n    \n    const doSearch = (evt) => {\n        let searchText = evt.target.value; \n        setSwiftId(evt.target.value.toUpperCase())\n        if(evt.target.value.length == 8 || evt.target.value.length == 11){\n            if (time ) clearTimeout(time);\n            setTime(()=>{\n                setTimeout(() => {\n                    checkSwift();\n                }, 300);\n            })\n        }\n        \n      }\n\n      const checkSwift =()=>{\n        NETWORK.post(`v1/banks/find`, JSON.stringify({'swift_bic':swiftId}))\n        .then(function(res) {\n            res !== undefined ? setBankData(res.data) : setBankData([]);\n        })\n      }\n\n      const validate =()=>{\n        setError(\"\")\n        accountNo.length>8 ? setError(\"\"): setError(\"Enter valid account number\")\n      }\n\n      const validateAcc =(val)=>{\n        setconfAccountNo(val)\n       \n        if( accountNo.length!==0 && val.length === accountNo.length){\n            if(val === accountNo){\n                setaccValid(true);\n                settype(\"text\");\n                setError(\"\")\n                \n            }else{\n                setaccValid(false); \n                setError(\"Account number not same\")\n            }\n        }\n      }\n\n    return(\n        <>\n            <div className=\"banking__form-set\">\n                <div className=\"form-control\">\n                    <label>SWIFT</label>\n                    <input type=\"text\" className=\"caps\" value={swiftId} onChange={(e)=>{doSearch(e)}} />\n                    {Object.keys(bankData).length !== 0 ? (<>\n                        <div className=\"bank-detail\">\n                            <p>\n                                {bankData.bank_name} <br />\n                                {bankData.bank_address1} <br />\n                                {bankData.bank_address2} <br />\n                                {bankData.bank_city}, {bankData.bank_state_province} <br />\n                                {bankData.bank_postal_code}\n                            </p>\n                        </div>\n                    </>):(<></>)}\n                </div>\n                <div className=\"form-control\"></div>\n            </div>\n            <div className=\"banking__form-set\">\n                <div className=\"form-control\">\n                    <label>Account number</label>\n                    <input type={type} value={accountNo} onChange={(e)=>{setaccountNo(e.target.value); setError(\"\")}}  onBlur={(e)=>{validate()}}/>\n                </div>\n                <div className=\"form-control\">\n                    <label>Confirm account number</label>\n                    <input type=\"text\" value={confAccountNo} onChange={(e)=>{validateAcc(e.target.value)}} />\n                </div>\n                \n            </div>\n            \n            {error !== \"\" ?(\n                <>  \n                    <div className=\"banking__form-set\">\n                        <div className=\"form-control\">\n                        <p className=\"error\">{error}</p>\n                        </div>\n                        \n                    </div>\n                </>\n                ):(<></>)}\n\n                {accValid  ?(\n                <>  \n                    <div className=\"banking__form-set\">\n                        <div className=\"form-control\">\n                        <p className=\"success\">Account Number Valid</p>\n                        </div>\n                        \n                    </div>\n                </>\n                ):(<></>)}\n        </>\n    )\n}\n\nexport default Swift;"]},"metadata":{},"sourceType":"module"}